{
  "version": 3,
  "sources": ["../../../../../../node_modules/@hiyve/rtc-client/dist/VideoSentimentAnalyser-CmJej03D.js"],
  "sourcesContent": ["class t extends EventTarget{constructor(t={}){super(),this.options={detectionInterval:100,modelUrl:\"https://cdn.jsdelivr.net/gh/justadudewhohacks/face-api.js@master/weights\",fallbackModelUrls:[\"https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/weights\",\"https://unpkg.com/face-api.js@0.22.2/weights\",\"./models\"],minConfidence:.5,smoothing:!0,smoothingFactor:.7,debug:!1,maxTrackedFaces:50,faceCleanupInterval:5e3,historyCleanupThreshold:100,adaptiveFrameRate:!0,minDetectionInterval:50,maxDetectionInterval:500,performanceTarget:16,noFaceSlowdown:3e3,progressiveLoading:!0,enableModelCaching:!0,modelCacheVersion:1,noFaceGracePeriod:2e3,emitOffFrameEvents:!0,engagementWeights:{faceDetection:.2,eyeOpenness:.25,headPose:.35,emotionalExpression:.15,faceSize:.05},engagementSensitivity:{headPoseThreshold:.7,eyeClosedThreshold:.15,emotionBoost:2,faceConfidenceMin:.7},...t},this.initialized=!1,this.isAnalyzing=!1,this.video=null,this.faceapi=null,this.t=!1,this.i=null,this.o=null,this.h=null,this.trackedFaces=/* @__PURE__ */new Map,this.l=0,this.previousEmotions=/* @__PURE__ */new Map,this.previousEngagement=/* @__PURE__ */new Map,this.m=this.options.detectionInterval,this.u=0,this.p=[],this.v=Date.now(),this.M=!0,this.D=this.options.noFaceGracePeriod||2e3,this.I=null,this.F={avgProcessingTime:0,detectionCount:0,faceCount:0},this.$=this.checkBrowserCompatibility()}checkBrowserCompatibility(){const t={compatible:!0,missing:[],deviceCapability:this.detectDeviceCapability()};try{Function(\"\",'return import(\"data:text/javascript,\")')}catch(i){t.compatible=!1,t.missing.push(\"Dynamic imports\")}const e=document.createElement(\"canvas\");return e.getContext(\"webgl\")||e.getContext(\"experimental-webgl\")||(t.compatible=!1,t.missing.push(\"WebGL\")),window.fetch||(t.compatible=!1,t.missing.push(\"Fetch API\")),window.Promise||(t.compatible=!1,t.missing.push(\"Promises\")),window.Map||(t.compatible=!1,t.missing.push(\"Map\")),t.compatible&&this.autoTuneSettings(t.deviceCapability),t}detectDeviceCapability(){const t={cpuCores:navigator.hardwareConcurrency||2,memory:navigator.deviceMemory||4,connectionType:this.getConnectionType(),isMobile:this.isMobileDevice(),performanceLevel:\"medium\"};let e=0;return e+=Math.min(4,t.cpuCores),e+=Math.min(4,Math.floor(t.memory/2)),\"slow\"===t.connectionType?e-=2:\"medium\"===t.connectionType&&(e-=1),t.isMobile&&(e-=1),t.performanceLevel=6>e?4>e?\"low\":\"medium\":\"high\",this.options.debug&&console.log(\"Device capability detected:\",t),t}getConnectionType(){if(navigator.connection&&navigator.connection.effectiveType){const t=navigator.connection.effectiveType;return\"4g\"===t||\"5g\"===t?\"fast\":\"3g\"===t?\"medium\":\"slow\"}return\"unknown\"}isMobileDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||\"ontouchstart\"in window||navigator.maxTouchPoints>0}autoTuneSettings(t){const e={high:{detectionInterval:50,minDetectionInterval:33,maxDetectionInterval:200,performanceTarget:12},medium:{detectionInterval:100,minDetectionInterval:50,maxDetectionInterval:300,performanceTarget:16},low:{detectionInterval:200,minDetectionInterval:100,maxDetectionInterval:500,performanceTarget:25,progressiveLoading:!0}}[t.performanceLevel];e&&(Object.keys(e).forEach(t=>{(void 0===this.options[t]||\"detectionInterval\"===t&&100===this.options[t]||\"minDetectionInterval\"===t&&50===this.options[t]||\"maxDetectionInterval\"===t&&500===this.options[t]||\"performanceTarget\"===t&&16===this.options[t])&&(this.options[t]=e[t],this.m=this.options.detectionInterval)}),this.options.debug&&console.log(`Auto-tuned for ${t.performanceLevel} performance:`,e))}async loadFaceApiLibrary(){if(this.faceapi)return this.faceapi;try{this.dispatch(\"loading\",{status:\"Loading face-api.js library...\"});const t=await import(\"./index-BtzUc0cx.js\");return this.faceapi=t.default||t,this.faceapi}catch(t){throw Error(\"Failed to load face-api.js: \"+t.message)}}async initialize(){if(!this.initialized){if(!this.$.compatible){const t=\"Browser not compatible. Missing: \"+this.$.missing.join(\", \");throw this.dispatch(\"error\",{error:t,code:\"BROWSER_INCOMPATIBLE\"}),Error(t)}try{await this.validateEnvironment(),await this.loadFaceApiLibrary(),this.dispatch(\"loading\",{status:\"Loading face detection models...\"}),await this.loadModelsWithFallback(),await this.validateModelsLoaded(),this.initialized=!0,this.startPeriodicCleanup(),this.dispatch(\"ready\",{status:\"Models loaded successfully\"})}catch(t){throw this.dispatch(\"error\",{error:t.message,code:t.code||\"INITIALIZATION_FAILED\",details:t.details}),t}}}async validateEnvironment(){const t=[],e=[],i={userAgent:navigator.userAgent,vendor:navigator.vendor||\"unknown\",platform:navigator.platform||\"unknown\",cookieEnabled:navigator.cookieEnabled,onLine:navigator.onLine};try{const s=document.createElement(\"canvas\"),o=s.getContext(\"webgl\")||s.getContext(\"experimental-webgl\");if(o){const i=o.getParameter(o.MAX_TEXTURE_SIZE);2048>i&&t.push(`WebGL texture size insufficient: ${i} (need 2048+)`),[\"OES_texture_float\",\"WEBGL_lose_context\"].forEach(t=>{o.getExtension(t)||e.push(`WebGL extension ${t} missing - may impact performance`)})}else t.push(\"WebGL context creation failed - required for face detection models\"),i.userAgent.includes(\"Safari\")&&!i.userAgent.includes(\"Chrome\")?t.push(\"Safari: Check Develop menu > Experimental Features > WebGL enabled\"):i.userAgent.includes(\"Firefox\")?t.push(\"Firefox: Check about:config webgl.disabled setting\"):i.userAgent.includes(\"Edge\")&&t.push(\"Edge: Check edge://flags/ for WebGL settings\")}catch(s){t.push(\"WebGL test failed: \"+s.message)}try{const e=document.createElement(\"canvas\").getContext(\"2d\",{willReadFrequently:!0});if(e){e.fillStyle=\"red\",e.fillRect(0,0,10,10);const i=e.getImageData(0,0,10,10);i&&0!==i.data.length||t.push(\"Canvas 2D pixel manipulation failed\")}else t.push(\"Canvas 2D context creation failed\")}catch(s){t.push(\"Canvas 2D test failed: \"+s.message)}if([{name:\"Promises\",test(){return\"undefined\"!=typeof Promise}},{name:\"Map\",test(){return\"undefined\"!=typeof Map}},{name:\"Set\",test(){return\"undefined\"!=typeof Set}},{name:\"ArrayBuffer\",test(){return\"undefined\"!=typeof ArrayBuffer}},{name:\"Float32Array\",test(){return\"undefined\"!=typeof Float32Array}}].forEach(({name:e,test:i})=>{i()||t.push(\"Missing required feature: \"+e)}),i.userAgent.includes(\"Chrome/\")){const e=parseInt(i.userAgent.match(/Chrome\\/(\\d+)/)?.[1]||\"0\");70>e&&t.push(`Chrome version too old: ${e} (need 70+)`)}else if(i.userAgent.includes(\"Firefox/\")){const e=parseInt(i.userAgent.match(/Firefox\\/(\\d+)/)?.[1]||\"0\");65>e&&t.push(`Firefox version too old: ${e} (need 65+)`)}else if(i.userAgent.includes(\"Safari/\")&&!i.userAgent.includes(\"Chrome\")){const e=i.userAgent.match(/Version\\/(\\d+)/),s=parseInt(e?.[1]||\"0\");12>s&&t.push(`Safari version too old: ${s} (need 12+)`)}navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||e.push(\"getUserMedia not available - camera access may be limited\"),i.userAgent.includes(\"Firefox\")&&!window.OffscreenCanvas&&e.push(\"Firefox without OffscreenCanvas - expect reduced performance\");try{if(\"storage\"in navigator&&\"estimate\"in navigator.storage){const t=await navigator.storage.estimate();t.quota&&1e7>t.quota&&e.push(\"Private/Incognito mode may limit functionality\")}}catch(s){}if(e.length>0&&this.options.debug&&console.warn(\"Environment warnings:\",e),t.length>0){const s=Error(\"Browser incompatible: \"+t.join(\"; \"));throw s.code=\"BROWSER_INCOMPATIBLE\",s.details={errors:t,warnings:e,browserInfo:i,recommendation:\"Use Chrome 70+, Firefox 65+, or Safari 12+ with WebGL enabled\"},s}this.options.debug&&console.log(\"Environment validation passed\",{browserInfo:i,warnings:e})}async validateModelsLoaded(){if(!this.faceapi)throw Error(\"Face-api.js library not loaded\");const t=[{name:\"tinyFaceDetector\",net:this.faceapi.nets?.tinyFaceDetector},{name:\"faceLandmark68Net\",net:this.faceapi.nets?.faceLandmark68Net},{name:\"faceExpressionNet\",net:this.faceapi.nets?.faceExpressionNet}],e=[];for(const{name:s,net:o}of t)o&&o.isLoaded||e.push(s);if(e.length>0){const t=Error(\"Required models not loaded: \"+e.join(\", \"));throw t.code=\"MODELS_NOT_LOADED\",t.details={missingNets:e},t}try{const t=document.createElement(\"canvas\");t.width=100,t.height=100;const e=t.getContext(\"2d\",{willReadFrequently:!0});e.fillStyle=\"white\",e.fillRect(0,0,100,100),await this.faceapi.detectAllFaces(t,new this.faceapi.TinyFaceDetectorOptions).withFaceLandmarks().withFaceExpressions(),this.options.debug&&console.log(\"Model validation successful\")}catch(i){const t=Error(\"Model inference test failed: \"+i.message);throw t.code=\"MODEL_INFERENCE_FAILED\",t.details={originalError:i.message},t}}validateVideoElement(t){if(!t){const t=Error(\"Video element is null or undefined\");throw t.code=\"INVALID_VIDEO_ELEMENT\",t}if(!(t instanceof HTMLVideoElement)){const t=Error(\"Element is not a valid HTMLVideoElement\");throw t.code=\"INVALID_VIDEO_ELEMENT\",t}if(t.readyState<HTMLVideoElement.HAVE_METADATA){const e=Error(\"Video metadata not loaded. Video must be ready before analysis.\");throw e.code=\"VIDEO_NOT_READY\",e.details={readyState:t.readyState,expectedMinimum:HTMLVideoElement.HAVE_METADATA},e}const e=t.videoWidth||t.width,i=t.videoHeight||t.height;if(!e||!i||10>e||10>i){const t=Error(\"Video dimensions too small for face detection\");throw t.code=\"INVALID_VIDEO_DIMENSIONS\",t.details={width:e,height:i,minimumSize:10},t}if(t.ended){const t=Error(\"Video has ended and cannot be analyzed\");throw t.code=\"VIDEO_ENDED\",t}if(!document.contains(t)){const t=Error(\"Video element must be attached to DOM for analysis\");throw t.code=\"VIDEO_NOT_IN_DOM\",t}try{const s=document.createElement(\"canvas\");s.width=Math.min(e,100),s.height=Math.min(i,100);const o=s.getContext(\"2d\",{willReadFrequently:!0});if(!o){const t=Error(\"Cannot create 2D context for video processing\");throw t.code=\"CANVAS_CONTEXT_FAILED\",t}if(o.drawImage(t,0,0,s.width,s.height),!o.getImageData(0,0,s.width,s.height).data.some(t=>0!==t)){const t=Error(\"Video element produces no drawable content\");throw t.code=\"NO_VIDEO_CONTENT\",t}}catch(s){if(s.code)throw s;const t=Error(\"Video element cannot be processed: \"+s.message);throw t.code=\"VIDEO_PROCESSING_FAILED\",t.details={originalError:s.message},t}this.options.debug&&console.log(\"Video element validation successful:\",{dimensions:{width:e,height:i},readyState:t.readyState,paused:t.paused,ended:t.ended})}async loadModelsWithFallback(){if(this.options.enableModelCaching)try{if(await this.areModelsCached())return void(await this.loadModelsFromCache())}catch(s){this.options.debug&&console.warn(\"Cache loading failed, falling back to network:\",s)}const t=[this.options.modelUrl,...this.options.fallbackModelUrls];let e=null,i=null;for(let o=0;t.length>o;o++){const n=t[o];try{this.options.debug&&console.log(\"Attempting to load models from: \"+n),this.dispatch(\"loading\",{status:`Loading models from ${n}${o>0?\" (fallback)\":\"\"}...`,progress:0,total:3,current:0,cached:!1}),this.options.progressiveLoading?await this.loadModelsProgressively(n):await Promise.all([this.faceapi.nets.tinyFaceDetector.loadFromUri(n),this.faceapi.nets.faceLandmark68Net.loadFromUri(n),this.faceapi.nets.faceExpressionNet.loadFromUri(n)]),i=n,this.options.debug&&console.log(\"Successfully loaded models from: \"+n);break}catch(s){e=s,this.options.debug&&console.warn(`Failed to load from ${n}:`,s.message);continue}}if(!i)throw Error(\"Failed to load models from all sources. Last error: \"+(e?.message||\"Unknown error\"));if(this.options.enableModelCaching)try{await this.cacheModels(i)}catch(s){this.options.debug&&console.warn(\"Failed to cache models:\",s)}}async loadModelsProgressively(t){const e=[{name:\"Face Detector\",loader:()=>this.faceapi.nets.tinyFaceDetector.loadFromUri(t)},{name:\"Face Landmarks\",loader:()=>this.faceapi.nets.faceLandmark68Net.loadFromUri(t)},{name:\"Expression Recognition\",loader:()=>this.faceapi.nets.faceExpressionNet.loadFromUri(t)}];for(let s=0;e.length>s;s++){const t=e[s];this.dispatch(\"loading\",{status:`Loading ${t.name}...`,progress:s,total:e.length,current:s+1,modelName:t.name});try{await t.loader(),this.dispatch(\"loading\",{status:t.name+\" loaded successfully\",progress:s+1,total:e.length,current:s+1,modelName:t.name}),e.length-1>s&&await new Promise(t=>setTimeout(t,50))}catch(i){throw Error(`Failed to load ${t.name}: ${i.message}`)}}}async areModelsCached(){if(!this.options.enableModelCaching||!window.indexedDB)return!1;try{const t=await this.openModelCache(),e=t.transaction([\"models\"],\"readonly\").objectStore(\"models\"),i=[\"tinyFaceDetector\",\"faceLandmark68Net\",\"faceExpressionNet\"],s=await Promise.all(i.map(t=>this.getFromStore(e,`${t}_v${this.options.modelCacheVersion}`)));return t.close(),s.every(t=>null!==t)}catch(t){return this.options.debug&&console.warn(\"Model cache check failed:\",t),!1}}async loadModelsFromCache(){if(!this.options.enableModelCaching||!window.indexedDB)throw Error(\"Model caching not supported\");try{const t=await this.openModelCache(),e=t.transaction([\"models\"],\"readonly\").objectStore(\"models\");this.dispatch(\"loading\",{status:\"Loading models from cache...\",cached:!0});const i=[{name:\"tinyFaceDetector\",loader:this.faceapi.nets.tinyFaceDetector},{name:\"faceLandmark68Net\",loader:this.faceapi.nets.faceLandmark68Net},{name:\"faceExpressionNet\",loader:this.faceapi.nets.faceExpressionNet}];for(const s of i){const t=`${s.name}_v${this.options.modelCacheVersion}`,i=await this.getFromStore(e,t);if(!i)throw Error(`Cached model ${s.name} not found`);await s.loader.loadFromWeightMap(i.weights)}t.close(),this.options.debug&&console.log(\"Models loaded from cache successfully\")}catch(t){throw this.options.debug&&console.warn(\"Failed to load models from cache:\",t),t}}async cacheModels(t){if(this.options.enableModelCaching&&window.indexedDB)try{const e=await this.openModelCache(),i=e.transaction([\"models\"],\"readwrite\").objectStore(\"models\"),s=[{name:\"tinyFaceDetector\",net:this.faceapi.nets.tinyFaceDetector},{name:\"faceLandmark68Net\",net:this.faceapi.nets.faceLandmark68Net},{name:\"faceExpressionNet\",net:this.faceapi.nets.faceExpressionNet}];for(const o of s){const e=`${o.name}_v${this.options.modelCacheVersion}`,s={name:o.name,weights:o.net.params||{},url:t,timestamp:Date.now(),version:this.options.modelCacheVersion};await this.putInStore(i,e,s)}e.close(),this.options.debug&&console.log(\"Models cached successfully\")}catch(e){this.options.debug&&console.warn(\"Failed to cache models:\",e)}}async openModelCache(){return new Promise((t,e)=>{const i=indexedDB.open(\"FaceAPIModelCache\",this.options.modelCacheVersion);i.onerror=()=>e(i.error),i.onsuccess=()=>t(i.result),i.onupgradeneeded=t=>{const e=t.target.result;e.objectStoreNames.contains(\"models\")||e.createObjectStore(\"models\")}})}async getFromStore(t,e){return new Promise((i,s)=>{const o=t.get(e);o.onerror=()=>s(o.error),o.onsuccess=()=>i(o.result||null)})}async putInStore(t,e,i){return new Promise((s,o)=>{const n=t.put(i,e);n.onerror=()=>o(n.error),n.onsuccess=()=>s(n.result)})}startPeriodicCleanup(){this.h&&clearInterval(this.h),this.h=setInterval(()=>{this.performMemoryCleanup()},this.options.faceCleanupInterval)}performMemoryCleanup(){const t=Date.now();let e=0;for(const[i,s]of this.trackedFaces.entries())t-s.lastSeen>3e3&&(this.trackedFaces.delete(i),e++);if(this.trackedFaces.size>this.options.maxTrackedFaces){const t=Array.from(this.trackedFaces.entries()).sort(([,t],[,e])=>e.lastSeen-t.lastSeen);this.trackedFaces.clear();for(let e=0;Math.min(t.length,this.options.maxTrackedFaces)>e;e++){const[i,s]=t[e];this.trackedFaces.set(i,s)}e+=t.length-this.options.maxTrackedFaces}this.cleanupHistoryMaps(),this.options.debug&&e>0&&console.log(`Cleaned up ${e} old face tracking entries`)}cleanupHistoryMaps(){const t=new Set(Array.from(this.trackedFaces.keys()).map(t=>`${this.videoId}_${t}`));for(const e of this.previousEmotions.keys())t.has(e)||(this.previousEmotions.delete(e),this.previousEngagement.delete(e));if(this.previousEmotions.size>this.options.historyCleanupThreshold){const t=Array.from(this.previousEmotions.keys()),e=t.slice(0,t.length-this.options.historyCleanupThreshold);for(const i of e)this.previousEmotions.delete(i),this.previousEngagement.delete(i)}}cleanupParticipant(t){for(const e of this.trackedFaces.keys())((e+\"\").startsWith(t+\"_\")||e===t)&&this.trackedFaces.delete(e);for(const e of this.previousEmotions.keys())e.startsWith(t+\"_\")&&this.previousEmotions.delete(e);for(const e of this.previousEngagement.keys())e.startsWith(t+\"_\")&&this.previousEngagement.delete(e);this.options.debug&&console.log(\"Cleaned up sentiment data for participant: \"+t)}async analyzeVideo(t,e){if(!this.initialized)throw Error(\"VideoSentimentAnalyzer must be initialized before use\");try{this.validateVideoElement(t)}catch(i){throw this.dispatch(\"error\",{error:i.message,code:i.code,details:i.details,videoId:e}),i}this.video=t,this.videoId=e,this.o=setTimeout(()=>{this.video&&2>this.video.readyState&&(this.dispatch(\"error\",{error:\"Video not ready after 10 s\"}),this.stopAnalysis())},1e4),this.video.addEventListener(\"loadeddata\",()=>clearTimeout(this.o),{once:!0}),this.isAnalyzing=!0,this.startDetection()}startDetection(){const t=async()=>{if(this.isAnalyzing){if(!this.t){const t=performance.now();this.t=!0;try{if(await this.detectEmotions(),this.options.adaptiveFrameRate){const e=performance.now()-t;this.updateAdaptiveFrameRate(e)}}finally{this.t=!1}}this.i=setTimeout(t,this.m)}};t()}updateAdaptiveFrameRate(t){this.p.push(t),this.p.length>10&&this.p.shift();const e=this.p.reduce((t,e)=>t+e,0)/this.p.length;this.F.avgProcessingTime=e,this.F.detectionCount++;const i=Date.now()-this.v;let s=this.options.detectionInterval;e>this.options.performanceTarget&&(s*=Math.min(3,e/this.options.performanceTarget)),i>this.options.noFaceSlowdown&&(s=Math.max(s,this.options.maxDetectionInterval)),s=Math.max(this.options.minDetectionInterval,Math.min(this.options.maxDetectionInterval,s)),this.m=.7*this.m+.3*s,this.options.debug&&this.F.detectionCount%20==0&&console.log(`Performance: ${e.toFixed(1)}ms processing, ${this.m.toFixed(0)}ms interval`)}iou(t,e){const i=Math.max(t.x,e.x),s=Math.max(t.y,e.y),o=Math.min(t.x+t.width,e.x+e.width),n=Math.min(t.y+t.height,e.y+e.height),a=Math.max(0,o-i)*Math.max(0,n-s),r=t.width*t.height+e.width*e.height-a;return r?a/r:0}matchFace(t){let e=null,i=0;for(const[o,n]of this.trackedFaces.entries()){const s=this.iou(t,n.box);s>i&&(i=s,e=o)}if(i>.35)return this.trackedFaces.get(e).box=t,this.trackedFaces.get(e).lastSeen=Date.now(),e;const s=++this.l;return this.trackedFaces.set(s,{box:t,lastSeen:Date.now()}),s}async detectEmotions(){if(!this.video||!this.faceapi)return void(this.options.debug&&console.warn(\"detectEmotions: Missing video or faceapi\",{video:!!this.video,faceapi:!!this.faceapi}));if(2>this.video.readyState)return void(this.options.debug&&console.warn(\"detectEmotions: Video not ready\",{readyState:this.video.readyState,videoWidth:this.video.videoWidth,videoHeight:this.video.videoHeight,src:this.video.src||\"No src\",srcObject:!!this.video.srcObject}));const t=Date.now();for(const[i,s]of this.trackedFaces.entries())t-s.lastSeen>3e3&&this.trackedFaces.delete(i);try{const e=await this.faceapi.detectAllFaces(this.video,new this.faceapi.TinyFaceDetectorOptions({inputSize:416,scoreThreshold:this.options.minConfidence})).withFaceLandmarks().withFaceExpressions();if(0===e.length)return this.options.debug&&console.warn(\"No faces detected\",{videoWidth:this.video.videoWidth,videoHeight:this.video.videoHeight,readyState:this.video.readyState,minConfidence:this.options.minConfidence}),void this.handleNoFaceDetected(t);this.M||(this.M=!0,this.I=null,this.dispatch(\"faceReturned\",{videoId:this.videoId,timestamp:t}));const i=e.map(t=>{const e=this.matchFace(t.detection.box),i=t.expressions,s=this.getDominantEmotion(i),o=t.detection.box,n=this.options.smoothing?this.smoothEmotion(e,s,i):s,a=this.calculateEngagement(t,i,e);return{id:e,emotions:i,dominantEmotion:n,confidence:i[n.emotion],boundingBox:o,engagement:a}});for(const t of this.previousEmotions.keys()){const[,e]=t.split(\"_\");this.trackedFaces.has(+e)||(this.previousEmotions.delete(t),this.previousEngagement.delete(t))}i.length>0&&(this.v=t,this.F.faceCount=i.length);const s=this.generateSummary(i);this.dispatch(\"emotions\",{videoId:this.videoId,timestamp:t,participants:i,summary:s,...this.options.debug&&{performance:{processingTime:this.F.avgProcessingTime,currentInterval:this.m,faceCount:this.F.faceCount}}})}catch(e){this.options.debug&&console.error(\"Detection error:\",e),this.dispatch(\"error\",{error:e.message})}}createOffFrameParticipant(t,e){const i={emotion:\"neutral\",confidence:.8};return{id:this.videoId||\"off-frame-participant\",emotions:{neutral:.8,happy:.05,sad:.05,angry:.05,fearful:.025,disgusted:.025,surprised:.025},dominantEmotion:i,confidence:i.confidence,boundingBox:null,engagement:e?.1:0,offFrame:!0,gracePeriod:e,timestamp:t}}handleNoFaceDetected(t){if(!this.options.emitOffFrameEvents)return void(this.options.debug&&console.log(\"Off-frame events disabled, skipping handleNoFaceDetected\"));if(this.options.debug&&console.log(\"handleNoFaceDetected called\",{videoId:this.videoId,lastFacePresent:this.M,noFaceStartTime:this.I,now:t}),this.M)return this.M=!1,this.I=t,this.dispatch(\"faceLeft\",{videoId:this.videoId,timestamp:t}),void(this.options.debug&&console.log(\"Face left frame - emitted faceLeft event\",{videoId:this.videoId,gracePeriod:this.D}));const e=t-this.I;this.options.debug&&console.log(\"No face duration check\",{noFaceDuration:e,gracePeriod:this.D,inGracePeriod:this.D>e});const i=[this.createOffFrameParticipant(t,this.D>e)];if(this.D>e){const e=this.generateSummary(i),s={videoId:this.videoId,timestamp:t,participants:i,summary:e,...this.options.debug&&{performance:{processingTime:this.F.avgProcessingTime,currentInterval:this.m,faceCount:0}}};this.options.debug&&console.log(\"Emitting grace period emotions event:\",s),this.dispatch(\"emotions\",s)}else{const s=this.generateSummary(i),o={videoId:this.videoId,timestamp:t,participants:i,summary:s,...this.options.debug&&{performance:{processingTime:this.F.avgProcessingTime,currentInterval:this.m,faceCount:0}}};if(this.options.debug&&console.log(\"Emitting off-frame disengaged emotions event:\",o),this.dispatch(\"emotions\",o),this.D>e-this.m){const i={videoId:this.videoId,timestamp:t,duration:e};this.options.debug&&console.log(\"Emitting userOffFrame event:\",i),this.dispatch(\"userOffFrame\",i)}}}calculateEngagement(t,e,i){const s=this.options.engagementWeights;let o=0;const n={};try{const r=Math.min(t.detection.score/.9,1);o+=r*s.faceDetection,n.faceDetection={score:r,weighted:r*s.faceDetection};let c=.5;if(t.landmarks)try{c=this.calculateEyeOpenness(t.landmarks),o+=c*s.eyeOpenness}catch(a){this.options.debug&&console.warn(\"Eye openness calculation failed:\",a),o+=.5*s.eyeOpenness,c=.5}else o+=.5*s.eyeOpenness;n.eyeOpenness={score:c,weighted:c*s.eyeOpenness};let h=.5;if(t.landmarks)try{h=this.calculateHeadPose(t.landmarks),o+=h*s.headPose}catch(a){this.options.debug&&console.warn(\"Head pose calculation failed:\",a),o+=.5*s.headPose,h=.5}else o+=.5*s.headPose;n.headPose={score:h,weighted:h*s.headPose};const l=this.calculateEmotionalEngagement(e);o+=l*s.emotionalExpression,n.emotional={score:l,weighted:l*s.emotionalExpression};const d=this.calculateFaceSize(t.detection.box);o+=d*s.faceSize,n.faceSize={score:d,weighted:d*s.faceSize},this.options.debug&&(console.log(`Engagement calculation for participant ${i}:`),console.log(`  Face Detection: ${n.faceDetection.score.toFixed(2)} (weighted: ${n.faceDetection.weighted.toFixed(3)})`),console.log(`  Eye Openness: ${n.eyeOpenness.score.toFixed(2)} (weighted: ${n.eyeOpenness.weighted.toFixed(3)})`),console.log(`  Head Pose: ${n.headPose.score.toFixed(2)} (weighted: ${n.headPose.weighted.toFixed(3)})`),console.log(`  Emotional: ${n.emotional.score.toFixed(2)} (weighted: ${n.emotional.weighted.toFixed(3)})`),console.log(`  Face Size: ${n.faceSize.score.toFixed(2)} (weighted: ${n.faceSize.weighted.toFixed(3)})`),console.log(\"  Total raw score: \"+o.toFixed(3)));const m=this.smoothEngagement(i,o);return this.options.debug&&console.log(\"  Final smoothed engagement: \"+m.toFixed(3)),Math.max(0,Math.min(1,m))}catch(a){return this.options.debug&&console.error(\"Engagement calculation failed:\",a),.5}}calculateEyeOpenness(t){try{const e=t.getLeftEye(),i=t.getRightEye(),s=(this.calculateEyeAspectRatio(e)+this.calculateEyeAspectRatio(i))/2,o=this.options.engagementSensitivity?.eyeClosedThreshold||.15;let n=0;return n=o>s?0:Math.min(Math.pow((s-.1)/.25,1.5),1),this.options.debug&&console.log(`    Eye openness: avgEAR=${s.toFixed(3)}, threshold=${o}, score=${n.toFixed(3)}`),n}catch(e){return.5}}calculateEyeAspectRatio(t){if(!t||6>t.length)return.5;const e=t[1],i=t[5],s=t[2],o=t[4],n=t[0],a=t[3];return(Math.hypot(e.x-i.x,e.y-i.y)+Math.hypot(s.x-o.x,s.y-o.y))/(2*Math.hypot(n.x-a.x,n.y-a.y))}calculateHeadPose(t){try{const e=t.getLeftEye?.()||[],i=t.getRightEye?.()||[],s=t.getNose?.()||[];if(!e.length||!i.length||!s.length)return.5;const o=[...e,...i].reduce((t,e)=>({x:t.x+e.x,y:t.y+e.y}),{x:0,y:0}),n=e.length+i.length,a={x:o.x/n,y:o.y/n},r=s[s.length-1],c=e[0],h=i[i.length-1],l=Math.hypot(h.x-c.x,h.y-c.y);if(0===l)return.5;const d=Math.abs(r.x-a.x)/l,m=Math.abs(r.y-a.y)/l,f=.8*d+.2*m,u=Math.max(0,1-2*f);return this.options.debug&&(console.log(`    Head pose raw: noseTip(${r.x.toFixed(1)}, ${r.y.toFixed(1)}), eyeCenter(${a.x.toFixed(1)}, ${a.y.toFixed(1)}), faceWidth=${l.toFixed(1)}`),console.log(`    Head pose: horizDev=${d.toFixed(3)}, vertDev=${m.toFixed(3)}, combined=${f.toFixed(3)}, score=${u.toFixed(3)}`)),u}catch(e){return this.options?.debug&&console.warn(\"Head‑pose calc error:\",e),.5}}calculateEmotionalEngagement(t){const e=[\"happy\",\"surprised\",\"angry\"],i=[\"neutral\"],s=[\"sad\",\"fearful\",\"disgusted\"],o=this.options.engagementSensitivity?.emotionBoost||1;let n=0;for(const[a,r]of Object.entries(t))e.includes(a)?n+=1.2*r*o:i.includes(a)?n+=.4*r:s.includes(a)&&(n+=.05*r);return Math.min(n,1)}calculateFaceSize(t){if(!this.video)return.5;const e=this.video.videoWidth*this.video.videoHeight;if(0===e)return.5;const i=t.width*t.height/e;return.05>i?i/.05:i>.3?Math.max(.3,1-(i-.3)/.2):1}smoothEngagement(t,e){const i=`${this.videoId}_${t}`,s=this.previousEngagement.get(i);if(!s)return this.previousEngagement.set(i,e),e;const o=.4*s+.6*e;return this.previousEngagement.set(i,o),o}getDominantEmotion(t){let e=\"neutral\",i=0;if(this.options.debug){const e=Object.entries(t).sort(([,t],[,e])=>e-t).map(([t,e])=>`${t}: ${Math.round(100*e)}%`).join(\", \");console.log(`${this.videoId} - All emotions: ${e}`)}for(const[s,o]of Object.entries(t))o>i&&(i=o,e=s);return{emotion:e,score:i}}smoothEmotion(t,e,i){const s=`${this.videoId}_${t}`,o=this.previousEmotions.get(s);if(!o)return this.previousEmotions.set(s,e),e;const n=e.score,a=i[o.emotion]||0;if(e.emotion!==o.emotion){if(n>a+.05)return this.previousEmotions.set(s,e),e;const t={emotion:o.emotion,score:a};return this.previousEmotions.set(s,t),t}{const t=.3,i={emotion:e.emotion,score:o.score*t+n*(1-t)};return this.previousEmotions.set(s,i),i}}generateSummary(t){if(0===t.length)return\"No participants detected\";const e=t.map(t=>t.dominantEmotion.emotion).reduce((t,e)=>(t[e]=(t[e]||0)+1,t),{}),i=Object.entries(e).sort(([,t],[,e])=>e-t)[0][0],s=t.reduce((t,e)=>t+e.engagement,0)/t.length;return`${t.length} participant(s), mood: ${i}, engagement: ${s>.7?\"high\":s>.4?\"medium\":\"low\"}`}getPerformanceStats(){return{...this.F,currentInterval:this.m,deviceCapability:this.$.deviceCapability,isAdaptive:this.options.adaptiveFrameRate}}setDebugMode(t){this.options.debug=t}getDiagnostics(){const t={initialized:this.initialized,isAnalyzing:this.isAnalyzing,hasVideo:!!this.video,hasFaceApi:!!this.faceapi,video:null,device:{capability:this.$?.deviceCapability||\"unknown\",compatibility:this.$||{compatible:!1,missing:[]}},tracking:{trackedFaces:this.trackedFaces.size,detectionCount:this.F?.detectionCount||0,lastDetectionTime:this.u||0,currentInterval:this.m}};return this.video&&(t.video={readyState:this.video.readyState,readyStateText:[\"HAVE_NOTHING\",\"HAVE_METADATA\",\"HAVE_CURRENT_DATA\",\"HAVE_FUTURE_DATA\",\"HAVE_ENOUGH_DATA\"][this.video.readyState],width:this.video.videoWidth,height:this.video.videoHeight,hasSrc:!!this.video.src,hasSrcObject:!!this.video.srcObject,paused:this.video.paused,muted:this.video.muted,volume:this.video.volume}),t}dispatch(t,e){this.dispatchEvent(new CustomEvent(t,{detail:e}))}destroy(){this.stopAnalysis(),this.h&&(clearInterval(this.h),this.h=null),this.previousEmotions.clear(),this.previousEngagement.clear(),this.trackedFaces?.clear?.(),this.initialized=!1}stopAnalysis(){this.isAnalyzing=!1,this.i&&(clearTimeout(this.i),this.i=null),this.o&&(clearTimeout(this.o),this.o=null),this.video=null,this.videoId=null}async canDetectFaces(t=null){const e={possible:!0,reasons:[],environment:null,models:null,video:null};try{e.environment=this.checkBrowserCompatibility(),e.environment.compatible||(e.possible=!1,e.reasons.push(\"Browser incompatible: \"+e.environment.missing.join(\", \")))}catch(i){e.possible=!1,e.environment={compatible:!1,error:i.message},e.reasons.push(\"Environment check failed: \"+i.message)}if(this.initialized)try{await this.validateModelsLoaded(),e.models={loaded:!0}}catch(i){e.possible=!1,e.models={loaded:!1,error:i.message,code:i.code},e.reasons.push(\"Models not ready: \"+i.message)}else e.possible=!1,e.models={loaded:!1,error:\"Analyzer not initialized\"},e.reasons.push(\"Analyzer must be initialized first\");if(t)try{this.validateVideoElement(t),e.video={valid:!0}}catch(i){e.possible=!1,e.video={valid:!1,error:i.message,code:i.code},e.reasons.push(\"Video element issue: \"+i.message)}return this.options.debug&&console.log(\"Face detection capability check:\",e),e}}class e extends EventTarget{constructor(t={}){super(),this.options=t,this.analyzers=/* @__PURE__ */new Map,this.initialized=!1}async initialize(){this.initialized||(this.masterAnalyzer=new t(this.options),await this.masterAnalyzer.initialize(),this.initialized=!0)}async addVideo(e,i){if(!this.initialized)throw Error(\"Manager must be initialized first\");const s=new t(this.options);s.faceapi=this.masterAnalyzer.faceapi,s.initialized=!0,s.addEventListener(\"emotions\",t=>{this.dispatchEvent(new CustomEvent(\"emotions\",{detail:t.detail}))}),s.addEventListener(\"error\",t=>{this.dispatchEvent(new CustomEvent(\"error\",{detail:t.detail}))}),this.analyzers.set(e,s),await s.analyzeVideo(i,e)}removeVideo(t){const e=this.analyzers.get(t);e&&(e.cleanupParticipant(t),e.destroy(),this.analyzers.delete(t))}setDebugMode(t){this.options.debug=t,this.masterAnalyzer&&this.masterAnalyzer.setDebugMode(t);for(const e of this.analyzers.values())e.setDebugMode(t)}getDiagnostics(){const t={initialized:this.initialized,analyzerCount:this.analyzers.size,analyzers:{}};for(const[e,i]of this.analyzers.entries())t.analyzers[e]=i.getDiagnostics();return t}getPerformanceStats(){const t={totalAnalyzers:this.analyzers.size,individual:{},aggregate:{totalDetections:0,avgProcessingTime:0,totalFaces:0}};let e=0,i=0;for(const[s,o]of this.analyzers.entries()){const n=o.getPerformanceStats();t.individual[s]=n,t.aggregate.totalDetections+=n.detectionCount,t.aggregate.totalFaces+=n.faceCount,n.avgProcessingTime>0&&(e+=n.avgProcessingTime,i++)}return i>0&&(t.aggregate.avgProcessingTime=e/i),t}destroy(){for(const t of this.analyzers.values())t.destroy();this.analyzers.clear(),this.masterAnalyzer&&this.masterAnalyzer.destroy(),this.initialized=!1}}export{e as MultiVideoSentimentManager,t as VideoSentimentAnalyzer};\n"],
  "mappings": "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",
  "names": ["t", "e", "i", "s"]
}
